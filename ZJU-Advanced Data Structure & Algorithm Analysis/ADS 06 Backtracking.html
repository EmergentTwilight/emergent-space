
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Emergent Space">
      
      
        <meta name="author" content="Emergent Twilight">
      
      
        <link rel="canonical" href="https://note.emergenttwilight.top/ZJU-Advanced%20Data%20Structure%20%26%20Algorithm%20Analysis/ADS%2006%20Backtracking.html">
      
      
        <link rel="prev" href="ADS%2005%20Binomial%20Queue.html">
      
      
        <link rel="next" href="ADS%2007%20Divide%20and%20Conquer.html">
      
      
      <link rel="icon" href="../__srcs/images/logo-E.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>06 Backtracking - Emergent Space</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../__srcs/css/banner.css">
    
      <link rel="stylesheet" href="../__srcs/css/sidebar.css">
    
      <link rel="stylesheet" href="../__srcs/css/content.css">
    
      <link rel="stylesheet" href="../__srcs/css/custom.css">
    
      <link rel="stylesheet" href="../__srcs/css/font.css">
    
      <link rel="stylesheet" href="../__srcs/css/list_callouts.css">
    
      <link rel="stylesheet" href="../__srcs/css/friend_link.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-intro" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Emergent Space" class="md-header__button md-logo" aria-label="Emergent Space" data-md-component="logo">
      
  <img src="../__srcs/images/logo-gaussian-small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Emergent Space
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              06 Backtracking
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EmergentTwilight/emergent-space/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    emergent-space
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../index.html" class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ZJU-Fundamentals%20of%20Data%20Structures/index.html" class="md-tabs__link">
          
  
    
  
  DS/Algo.

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ZJU-Assembly%20Fundamentals/index.html" class="md-tabs__link">
          
  
    
  
  Coding/Lang.

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../GAMES101/index.html" class="md-tabs__link">
          
  
    
  
  Others

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Emergent Space" class="md-nav__button md-logo" aria-label="Emergent Space" data-md-component="logo">
      
  <img src="../__srcs/images/logo-gaussian-small.png" alt="logo">

    </a>
    Emergent Space
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EmergentTwilight/emergent-space/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    emergent-space
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Home
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    DS/Algo.
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            DS/Algo.
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../ZJU-Fundamentals%20of%20Data%20Structures/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Fundamentals of Data Structures
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Advanced Data Structure & Algorithm Analysis
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Advanced Data Structure & Algorithm Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2001%20AVL%20Trees%2C%20Splay%20Trees%20and%20Amortized%20Analysis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 AVL Trees, Splay Trees and Amortized Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2002%20Red-Black%20Trees%20and%20B%2B%20Trees.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 Red-Black Trees and B+ Trees
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2003%20Inverted%20File%20Index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 Inverted File Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2004%20Leftist%20Heaps%20and%20Skew%20Heaps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 Leftistf Heaps and Skew Heaps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2005%20Binomial%20Queue.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 Binomial Queue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    06 Backtracking
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="ADS%2006%20Backtracking.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    06 Backtracking
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-intro" class="md-nav__link">
    <span class="md-ellipsis">
      1 Intro
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-elements-of-an-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Elements of an Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-main-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Main Takeaways
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-rationale-of-the-backtracking-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Rationale of the Backtracking Algorithms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-eight-queens" class="md-nav__link">
    <span class="md-ellipsis">
      2 Eight Queens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Eight Queens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-constrains" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Constrains
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-solution" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-the-turnpike-reconstruction-problem" class="md-nav__link">
    <span class="md-ellipsis">
      3 The Turnpike Reconstruction Problem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 The Turnpike Reconstruction Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-solution" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-a-template-for-backtracking" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 A Template for Backtracking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-tic-tac-toe" class="md-nav__link">
    <span class="md-ellipsis">
      4 Tic-tac-toe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Tic-tac-toe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-minimax-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Minimax Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-alpha-beta-pruning" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 \(\alpha-\beta\) Pruning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 \(\alpha-\beta\) Pruning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-discussion-best-case-complexity-for-alpha-beta-pruning" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 Discussion: best-case complexity for \(\alpha-\beta\) pruning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-questions" class="md-nav__link">
    <span class="md-ellipsis">
      5 Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-q6" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Q6
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 Q6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-exhaustive-search-in-finite-time" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 Exhaustive search in finite time?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-ex6" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Ex6
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-hw6" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 HW6
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 HW6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-detecting-werewolves-fold" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 Detecting Werewolves %% fold %%
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2007%20Divide%20and%20Conquer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 Divide and Conquer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2008%20Dynamic%20Programming.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 Dynamic Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2009%20Greedy%20Algorithm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 Greedy Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2010%20NP-Completeness.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10 NP-Completeness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2011%20Approximation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11 Approximation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2012%20Local%20Search.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 Local Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2013%20Randomized%20Algorithms.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13 Randomized Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2014%20Parallel%20Algorithms.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14 Parallel Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%2015%20External%20Sorting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15 External Sorting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Final Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%20Cheat%20Sheet%20Dynamic%20Programming.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Final DP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ADS%20Final%20Questions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Final Questions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../ZJU-Assembly%20Fundamentals/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Coding/Lang.
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../GAMES101/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Others
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-intro" class="md-nav__link">
    <span class="md-ellipsis">
      1 Intro
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-elements-of-an-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Elements of an Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-main-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Main Takeaways
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-rationale-of-the-backtracking-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Rationale of the Backtracking Algorithms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-eight-queens" class="md-nav__link">
    <span class="md-ellipsis">
      2 Eight Queens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Eight Queens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-constrains" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Constrains
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-solution" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-the-turnpike-reconstruction-problem" class="md-nav__link">
    <span class="md-ellipsis">
      3 The Turnpike Reconstruction Problem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 The Turnpike Reconstruction Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-solution" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-a-template-for-backtracking" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 A Template for Backtracking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-tic-tac-toe" class="md-nav__link">
    <span class="md-ellipsis">
      4 Tic-tac-toe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Tic-tac-toe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-minimax-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Minimax Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-alpha-beta-pruning" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 \(\alpha-\beta\) Pruning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 \(\alpha-\beta\) Pruning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-discussion-best-case-complexity-for-alpha-beta-pruning" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 Discussion: best-case complexity for \(\alpha-\beta\) pruning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-questions" class="md-nav__link">
    <span class="md-ellipsis">
      5 Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-q6" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Q6
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 Q6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-exhaustive-search-in-finite-time" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 Exhaustive search in finite time?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-ex6" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Ex6
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-hw6" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 HW6
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 HW6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-detecting-werewolves-fold" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 Detecting Werewolves %% fold %%
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EmergentTwilight/emergent-space/edit/master/docs/ZJU-Advanced Data Structure & Algorithm Analysis/ADS 06 Backtracking.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/EmergentTwilight/emergent-space/raw/master/docs/ZJU-Advanced Data Structure & Algorithm Analysis/ADS 06 Backtracking.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>06 Backtracking</h1>

<h2 id="1-intro">1 Intro<a class="headerlink" href="#1-intro" title="Locate to heading">#</a></h2>
<h3 id="11-elements-of-an-algorithm">1.1 Elements of an Algorithm<a class="headerlink" href="#11-elements-of-an-algorithm" title="Locate to heading">#</a></h3>
<ul>
<li>Computational Problem: <em>P/NP</em></li>
<li>Feasibility</li>
<li>Solution Space<ul>
<li>Convex Optimization/Linear Programming: Continuous space</li>
<li>Combinatorial Optimization: Discrete &amp; finite space</li>
<li>Integer Programming: Discrete &amp; infinite space</li>
</ul>
</li>
<li>Optimality: tradeoff between optimality vs. complexity</li>
</ul>
<blockquote>
<p>Backtracking 是一种枚举法，<em>可带剪枝地</em>遍历解空间</p>
</blockquote>
<h3 id="12-main-takeaways">1.2 Main Takeaways<a class="headerlink" href="#12-main-takeaways" title="Locate to heading">#</a></h3>
<ul>
<li>Problems<ul>
<li>8-Queens</li>
<li>Turnpike Reconstruction Problem</li>
<li>Tic-Tac-Toe</li>
</ul>
</li>
<li>Definitions<ul>
<li>Game Tree</li>
<li>Value</li>
<li>Position</li>
</ul>
</li>
<li>Algorithm<ul>
<li>Minimax Strategy</li>
<li>Alpha-Beta Pruning</li>
</ul>
</li>
</ul>
<h3 id="13-rationale-of-the-backtracking-algorithms">1.3 Rationale of the Backtracking Algorithms<a class="headerlink" href="#13-rationale-of-the-backtracking-algorithms" title="Locate to heading">#</a></h3>
<ul>
<li>枚举法</li>
<li>剪枝：如果部分解仍然满足条件，那么继续尝试添加新的单元解，条件不被满足时 backtrack，直到获得满足条件的完整解</li>
</ul>
<h2 id="2-eight-queens">2 Eight Queens<a class="headerlink" href="#2-eight-queens" title="Locate to heading">#</a></h2>
<blockquote>
<p>Backtracking eliminates <strong>infeasible</strong> solutions.</p>
</blockquote>
<h3 id="21-constrains">2.1 Constrains<a class="headerlink" href="#21-constrains" title="Locate to heading">#</a></h3>
<div class="arithmatex">\[
\begin{align}
\text{Find}\quad S&amp;=(x_{1},x_{2},\dots,x_{n})\\
s.t.\quad  S_{i}&amp;=\{1,2,3,4,5,6,7,8\} \quad \text{for} \,1\leq i\leq{8}\\
x_{i}&amp;\neq x_{j}\quad \text{if}\,i\neq j \\
\frac{x_{i}-x_{j}}{i-j}&amp;\neq \pm 1
\end{align}
\]</div>
<p>对于 <span class="arithmatex">\(n\)</span>-Queens 问题，解空间大小为 <span class="arithmatex">\(O(n!)\)</span></p>
<h3 id="22-solution">2.2 Solution<a class="headerlink" href="#22-solution" title="Locate to heading">#</a></h3>
<blockquote>
<p>Step 1: Construct a game tree
Step 2: DFS to examine all the paths</p>
</blockquote>
<p><img alt="__assets/ADS 06 Backtracking/IMG-ADS 06 Backtracking-20241028014837804.webp" src="__assets/ADS%2006%20Backtracking/IMG-ADS%2006%20Backtracking-20241028014837804.webp" /></p>
<h2 id="3-the-turnpike-reconstruction-problem">3 The Turnpike Reconstruction Problem<a class="headerlink" href="#3-the-turnpike-reconstruction-problem" title="Locate to heading">#</a></h2>
<p>若 <span class="arithmatex">\(x\)</span> 轴上存在 <span class="arithmatex">\(N\)</span> 个点，坐标分别为 <span class="arithmatex">\(x_1&lt;x_2&lt;\dots&lt;x_{N}\)</span>，假设以 <span class="arithmatex">\(x_1=0\)</span> 为原点，一共有 <span class="arithmatex">\(\frac{N(N-1)}{2}\)</span> 个距离，现在的问题是，根据这些距离重建所有点的坐标。</p>
<h3 id="31-solution">3.1 Solution<a class="headerlink" href="#31-solution" title="Locate to heading">#</a></h3>
<blockquote>
<p>Step 1: 根据距离的数量得出 <span class="arithmatex">\(N\)</span> 的值
Step 2: 找到两个端点 <span class="arithmatex">\(x_0, x_N\)</span>
Step 3: 从大到小 check 距离，最终找到正确的解</p>
</blockquote>
<p><img alt="__assets/ADS 06 Backtracking/IMG-ADS 06 Backtracking-20241028014852286.webp" src="__assets/ADS%2006%20Backtracking/IMG-ADS%2006%20Backtracking-20241028014852286.webp" /></p>
<div class="admonition tip">
<p class="admonition-title">为什么从大到小 check 距离？</p>
<p>在已经确定的点集 <span class="arithmatex">\(S_m\)</span> 的基础上，想要新增一个点 <span class="arithmatex">\(x_{m+1}\)</span>，那么新产生的最大的距离一定是 <span class="arithmatex">\(|x_{m+1}-x_{0}|\)</span> 或 <span class="arithmatex">\(|x_{m+1}-x_{N}|\)</span></p>
</div>
<div class="language-c highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Reconstuct</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">Reconstruct</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">DistType</span><span class="w"> </span><span class="n">X</span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="n">DistSet</span><span class="w"> </span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="p">{</span><span class="w"> </span><span class="cm">/* X[1]...X[left-1] and X[right+1]...X[N] are solved */</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">Is_Empty</span><span class="p">(</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="cm">/* solved */</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="n">D_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Find_Max</span><span class="p">(</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="cm">/* option 1：X[right] = D_max */</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="cm">/* check if |D_max-X[i]|ÎD is true for all X[i]’s that have been solved */</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">    </span><span class="n">OK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Check</span><span class="p">(</span><span class="w"> </span><span class="n">D_max</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="cm">/* pruning */</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">OK</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* add X[right] and update D */</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">        </span><span class="n">X</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">D_max</span><span class="p">;</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">left</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">Delete</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">Delete</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">        </span><span class="n">Found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Reconstruct</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="mi">-1</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">Found</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* if does not work, undo */</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">left</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">Insert</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">Insert</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="w">    </span><span class="cm">/* finish checking option 1 */</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="w">    </span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">Found</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* if option 1 does not work */</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="w">        </span><span class="cm">/* option 2: X[left] = X[N]-D_max */</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">        </span><span class="n">OK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Check</span><span class="p">(</span><span class="w"> </span><span class="n">X</span><span class="p">[</span><span class="n">N</span><span class="p">]</span><span class="o">-</span><span class="n">D_max</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">OK</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="w">            </span><span class="n">X</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">[</span><span class="n">N</span><span class="p">]</span><span class="w"> </span><span class="err">–</span><span class="w"> </span><span class="n">D_max</span><span class="p">;</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">left</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">Delete</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="n">Delete</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="w">            </span><span class="n">Found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Reconstruct</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">Found</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">left</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">Insert</span><span class="p">(</span><span class="w"> </span><span class="o">|</span><span class="n">X</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">-</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">|</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p">);</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="w">        </span><span class="cm">/* finish checking option 2 */</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="cm">/* finish checking all the options */</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Found</span><span class="p">;</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="32-a-template-for-backtracking">3.2 A Template for Backtracking<a class="headerlink" href="#32-a-template-for-backtracking" title="Locate to heading">#</a></h3>
<div class="language-c highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">A Template for Backtracking</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">Backtracking</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="p">{</span><span class="w">   </span><span class="n">Found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span><span class="w"> </span><span class="cm">/* solved with (x1, …, xN) */</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">xi</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">Si</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">        </span><span class="cm">/* check if satisfies the restriction R */</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">        </span><span class="n">OK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Check</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="p">...,</span><span class="w"> </span><span class="n">xi</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="cm">/* pruning */</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">OK</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">            </span><span class="n">Count</span><span class="w"> </span><span class="n">xi</span><span class="w"> </span><span class="n">in</span><span class="p">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">            </span><span class="n">Found</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Backtracking</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">Found</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">                </span><span class="n">Undo</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="cm">/* recover to (x1, …, xi-1) */</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Found</span><span class="p">;</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="33-conclusion">3.3 Conclusion<a class="headerlink" href="#33-conclusion" title="Locate to heading">#</a></h3>
<div class="admonition tip">
<p class="admonition-title">Catch</p>
<p>关键在于从大到小枚举并 check 距离，这能够最大化剪枝效率
<img alt="__assets/ADS 06 Backtracking/IMG-ADS 06 Backtracking-20241028014907403.webp" src="__assets/ADS%2006%20Backtracking/IMG-ADS%2006%20Backtracking-20241028014907403.webp" /></p>
</div>
<h2 id="4-tic-tac-toe">4 Tic-tac-toe<a class="headerlink" href="#4-tic-tac-toe" title="Locate to heading">#</a></h2>
<h3 id="41-minimax-strategy">4.1 Minimax Strategy<a class="headerlink" href="#41-minimax-strategy" title="Locate to heading">#</a></h3>
<ul>
<li>Evalution function: <span class="arithmatex">\(f(p)=W_{Computer}-W_{Human}\)</span>, where <span class="arithmatex">\(W\)</span> is the potential wins at <strong>position</strong> <span class="arithmatex">\(P\)</span></li>
<li>The human is trying to <strong>minimize</strong> <span class="arithmatex">\(f(p)\)</span>, while the computer is trying to <strong>maximize</strong> it</li>
</ul>
<p><img alt="__assets/ADS 06 Backtracking/IMG-ADS 06 Backtracking-20241028014917981.webp" src="__assets/ADS%2006%20Backtracking/IMG-ADS%2006%20Backtracking-20241028014917981.webp" /></p>
<div class="admonition note">
<p class="admonition-title">ply, re-ply</p>
<ul>
<li>ply 指的是玩家的一步操作</li>
<li>re-ply 指的是对手的回应操作</li>
</ul>
</div>
<h3 id="42-alpha-beta-pruning">4.2 <span class="arithmatex">\(\alpha-\beta\)</span> Pruning<a class="headerlink" href="#42-alpha-beta-pruning" title="Locate to heading">#</a></h3>
<p><img alt="__assets/ADS 06 Backtracking/IMG-ADS 06 Backtracking-20241028014933987.webp" src="__assets/ADS%2006%20Backtracking/IMG-ADS%2006%20Backtracking-20241028014933987.webp" /></p>
<p><img alt="__assets/ADS 06 Backtracking/IMG-ADS 06 Backtracking-20241028014946224.webp" src="__assets/ADS%2006%20Backtracking/IMG-ADS%2006%20Backtracking-20241028014946224.webp" /></p>
<p>In practice, it limits the searching to only <span class="arithmatex">\(O(\sqrt{ N })\)</span> nodes, where <span class="arithmatex">\(N\)</span> is the size of full game tree.</p>
<h4 id="421-discussion-best-case-complexity-for-alpha-beta-pruning">4.2.1 Discussion: best-case complexity for <span class="arithmatex">\(\alpha-\beta\)</span> pruning<a class="headerlink" href="#421-discussion-best-case-complexity-for-alpha-beta-pruning" title="Locate to heading">#</a></h4>
<div class="admonition question">
<p class="admonition-title">试图证明：</p>
<p>若分叉数 <span class="arithmatex">\(b\)</span> 的 Minimax 博弈树的深度为 <span class="arithmatex">\(d\)</span>，且叶子节点都在深度 <span class="arithmatex">\(d\)</span> 层，则 best case 下使用 <span class="arithmatex">\(\alpha -\beta\)</span> pruning 后的最优复杂度为：<span class="arithmatex">\(<span class="arithmatex">\(O\left( b^\frac{d}{2} \right)\)</span>\)</span></p>
</div>
<p>记 <span class="arithmatex">\(c_i\)</span> 表示深度为 <span class="arithmatex">\(i\)</span> 时的最优复杂度，则对于 <span class="arithmatex">\(d=i\)</span> 的树，至少有一个子树进行了子问题的搜索 <span class="arithmatex">\(c_{i-1}\)</span>，其他 <span class="arithmatex">\(b-1\)</span> 个子树至少有一个孩子进行了子问题的搜索 <span class="arithmatex">\((b-1)c_{i-2}\)</span>，因此：</p>
<div class="arithmatex">\[c_{i}=c_{i-1}+(b-1)c_{i-2}\]</div>
<p>求解特征方程 <span class="arithmatex">\(x^2-x-(b-1)=0\)</span> 得到 <span class="arithmatex">\(x=\frac{1\pm \sqrt{ 4b-3 }}{2}\)</span>，那么</p>
<div class="arithmatex">\[c_{d}=C_{1}x_{1}^d+C_{2}x_{2}^d = O\left( \left( \frac{1+\sqrt{ 4b-3 }}{2} \right)^d \right)=O(b^{d/2})\]</div>
<p>证毕。</p>
<h2 id="5-questions">5 Questions<a class="headerlink" href="#5-questions" title="Locate to heading">#</a></h2>
<h3 id="51-q6">5.1 Q6<a class="headerlink" href="#51-q6" title="Locate to heading">#</a></h3>
<h4 id="511-exhaustive-search-in-finite-time">5.1.1 Exhaustive search in finite time?<a class="headerlink" href="#511-exhaustive-search-in-finite-time" title="Locate to heading">#</a></h4>
<p>It is guaranteed that an exhaustive search can always find the solution in finite time. (T/F)</p>
<details class="tip">
<summary>Answer</summary>
<p><strong>F</strong> 如果搜索空间是无限的，就无法通过遍历的方式得出</p>
</details>
<h3 id="52-ex6">5.2 Ex6<a class="headerlink" href="#52-ex6" title="Locate to heading">#</a></h3>
<h3 id="53-hw6">5.3 HW6<a class="headerlink" href="#53-hw6" title="Locate to heading">#</a></h3>
<h4 id="531-detecting-werewolves-fold">5.3.1 Detecting Werewolves %% fold %%<a class="headerlink" href="#531-detecting-werewolves-fold" title="Locate to heading">#</a></h4>
<details class="question">
<summary>Werewolf</summary>
<p>Werewolf（狼人杀） is a game in which the players are partitioned into two parties: the werewolves and the human beings. Suppose that in a game,</p>
<ul>
<li>player #1 said: "Player #2 is a werewolf.";</li>
<li>player #2 said: "Player #3 is a human.";</li>
<li>player #3 said: "Player #4 is a werewolf.";</li>
<li>player #4 said: "Player #5 is a human."; and</li>
<li>player #5 said: "Player #4 is a human.".</li>
</ul>
<p>Given that there were 2 werewolves among them, at least one but not all the werewolves were lying, and there were exactly 2 liers. Can you point out the werewolves?</p>
<p>Now you are asked to solve a harder vertion of this problem: given that there were N players, with M werewolves among them, at least one but not all the werewolves were lying, and there were exactly L liers. You are supposed to point out the werewolves.</p>
<p><strong>Input Specification</strong>:</p>
<p>Each input file contains one test case. For each case, the first line gives three positive integer N (5 ≤ N ≤ 100), M and L (2 ≤ M &lt; N, 1 ≤ L &lt; N). Then N lines follow and the i-th line gives the statement of the i-th player (1 ≤ i ≤ N), which is represented by the index of the player with a positive sign for a human and a negative sign for a werewolf.</p>
<p><strong>Output Specification</strong>:</p>
<p>If a solution exists, print in a line in descending order the indices of the M werewolves. The numbers must be separated by exactly one space with no extra spaces at the beginning or the end of the line. If there are more than one solution, you must output the largest solution sequence -- that is, for two sequences A = { a[1], ..., a[M] } and B = { b[1], ..., b[M] }, if there exists 0 ≤ k &lt; M such that a[i] = b[i] (i ≤ k) and a[k+1]&gt;b[k+1], then A is said to be larger than B. In case there is no solution, simply print <code>No Solution</code>.</p>
<p><strong>Sample Input 1</strong>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a>5 2 2
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a>-2
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a>+3
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a>-4
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a>+5
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a>+4
</span></code></pre></div></td></tr></table></div>
<p><strong>Sample Output 1</strong>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a>4 1
</span></code></pre></div></td></tr></table></div>
<p><strong>Sample Input 2</strong>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span>
<span class="normal"><a href="#__codelineno-4-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a>6 2 3
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a>-2
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>+3
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a>-4
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a>+5
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a>+4
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a>-3
</span></code></pre></div></td></tr></table></div>
<p><strong>Sample Output 2</strong>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a>6 4
</span></code></pre></div></td></tr></table></div>
<p><strong>Sample Input 3</strong>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a>6 2 5
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a>-2
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a>+3
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a>-4
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a>+5
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6"></a>+4
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7"></a>+6
</span></code></pre></div></td></tr></table></div>
<p><strong>Sample Output 3</strong>:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a>No Solution
</span></code></pre></div></td></tr></table></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Hint</p>
<ul>
<li>使用合理的 struct 来方便状态传递</li>
<li>需要高亮部分的 pruning 条件，才能避免超时</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>非常有意思的问题</p>
</div>







  
  






  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
          data-repo="EmergentTwilight/Emergent-Space"
          data-repo-id="R_kgDOMQFYhw"
          data-category="Announcements"
          data-category-id="DIC_kwDOMQFYh84Cmb5p"
          data-mapping="pathname"
          data-strict="0"
          data-reactions-enabled="1"
          data-emit-metadata="0"
          data-input-position="top"
          data-theme="preferred_color_scheme"
          data-lang="zh-CN"
          crossorigin="anonymous"
          async>
  </script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="ADS%2005%20Binomial%20Queue.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: 05 Binomial Queue">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                05 Binomial Queue
              </div>
            </div>
          </a>
        
        
          
          <a href="ADS%2007%20Divide%20and%20Conquer.html" class="md-footer__link md-footer__link--next" aria-label="Next: 07 Divide and Conquer">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                07 Divide and Conquer
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024-2025 <a href="https://github.com/EmergentTwilight">EmergentTwilight</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/EmergentTwilight" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:emergentshores@outlook.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "navigation.tracking", "navigation.tabs", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="../__srcs/javascript/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="../__srcs/javascript/toc.js"></script>
      
    
  </body>
</html>